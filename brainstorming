Project Title: Best cities in Ontario

---------------------------------------------------------------

Team Members: Khevana, Sarah, Ayokunle, Daniel

---------------------------------------------------------------

Research Questions:
1) Which cities in Ontario have the most job opportunities and highest salaries for data analysis professionals?
2) Which cities in Ontario have the largest net earnings for data analysis professionals (ie salary - cost of living) with and without kids?
3) Of these top cities, which is the best for other factors such as safety and access to housing/ healthcare/ schools/ green space/ less crowded spaces?

-----------------------------------------------------------------

Rough breakdown of tasks:
-> figure out exactly what data to get and where to get it, what info proxies for what question
-> get and parse all data for all cities in Ontario
-> analyze trends in individual data/ sets of data, what correlations are there
	-> analysis of if you care most about x factor, y is the best city for you for each factor
-> rank contributing factors - what's most important to livability/ happiness
	-> Extra - could make this sensitive to user inputs, so can change; final analysis would be for a specific ranking
-> rank cities based on contributing factors for a profession
	-> Extra - could make this take user inputs as well; final analysis would be for a set profession
	-> analysis of if you rank things in x order, these are the best cities to live in in Ontario
	
-----------------------------------------------------------------

Possible things to look at/ get data for, per city, and potential data sources:

job opportunities
	number of postings for specific jobs - proxy for job opportunities/ availability
	-> https://api.lightcast.io/apis/careers-canada - has annual openings by region for general careers (groups of jobs) - probably use this one, base it on career
	-> https://api.lightcast.io/apis/jobs-canada - job postings for specific job
salary
	salary for specific job  
	-> https://api.lightcast.io/apis/careers-canada - also has annual earnings by region for general careers (groups of jobs)
cost of living
	rent - stats can #1
	house cost - stats can #1
	groceries
	public transportation/ gas price
	-> stats canada? have to research
	break down by single vs with kids?
availability of housing
	number of housing spaces available (rentals and for purchase)
	-> stats canada? have to research
	average commute
	-> stats canada -> stats can csv 1
healthcare 
	availability of general practitioners
	availability of specialists
	-> https://physicianreporting.org/pio/	
safety
	crime rates
	-> stats canada? have to research
	car accidents
	-> stats canada? have to research
schools
	number 
	quality
	-> stats canada? have to research
green space 
	proxied by number of parks - in each city 
	-> google API
	average size of park would also be good, but unsure where to get that data
population density
	population per square km - proxy for how crowded it's going to feel
	-> stats canada source 1

------------------------------------------------------------

Stats can sources in more detail:

1) https://www12.statcan.gc.ca/census-recensement/2021/dp-pd/prof/details/page.cfm?Lang=E&SearchText=Elliot%20Lake&GENDERlist=1&STATISTIClist=1&DGUIDlist=2021A00053520005,2021A00053506008,2021A00053557041
	- has census data, broken down by city (census subdivision)
		- commute time/ mode/ destination
		- population density
		- number of people employed in broad categories (less good than job openings for our purposes)
		- household characteristics
			- private households by number of persons per room (25% sample data)
			- Owner and tenant households with household total income greater than zero, in non-farm, non-reserve private dwellings by shelter-cost-to-income ratio
				- spending <30% vs >=30%  vs 30%<=spending<100% of income on shelter (can probably merge the latter 2)
			- average monthly shelter cost of rented and owned dwellings
		- low income status/ prevalence, by age group
		- average income - less useful than income for a particular field/ job


------------------------------------------------------------

Misc Notes:

suggest x city is best place to live in Ontario for y profession
	- cost of living analysis, number of job opportunities in specified career, access to healthcare and schools, 
	maybe number of restaraunts/ cuisine types as a proxy for having interesting food/ factor for happiness
reddit APIs - to look at cities/ what people are saying about cities
	could be for jobs/ cost of living
	could be for happiness in general/ dissatisfaction

-- lots of data, can choose which branches to look into 

- lightcast.io api - can ge tunique job postings over a timeperiod for a region and career
	- linked to government data/ stats
	- would want timeseries of job postings
	- country-specific, but there's one for canada
	- want census subdivisions (csd) - these are cities
	- example code:
	import requests
	url = "https://cc.emsiservices.com/jobs/ca/csd/{geographyID}/{career code}/timeseries"
	querystring = {"start":"2017-01","end":"2018-01"}
	headers = {'Authorization': 'Bearer <ACCESS_TOKEN>'}
	response = requests.request("GET", url, headers=headers, params=querystring)
	print(response.text)
	- career code - NOC ID
		https://noc.esdc.gc.ca/?GocTemplateCulture=en-CA
		- list of codes: https://workpermit.com/immigration/canada/canada-national-occupation-classification-list

	- requests require a token, tokens are grabbed via api and expire after an hour
		- example request:
		import requests
		url = "https://auth.emsicloud.com/connect/token"
		payload = "client_id=%3CCLIENT_ID%3E&client_secret=%3CCLIENT_SECRET%3E&grant_type=client_credentials&scope=jobs"
		headers = {'Content-Type': 'application/x-www-form-urlencoded'}
		response = requests.request("POST", url, data=payload, headers=headers)
		print(response.text)
	